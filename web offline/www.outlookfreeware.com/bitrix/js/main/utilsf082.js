function JCFloatDiv(){var n=this;this.floatDiv=null;this.x=this.y=0;this.Show=function(n,t,i,r,u,f){var s,o,e;f!==!1&&(f=!0);s=parseInt(n.style.zIndex);(s<=0||isNaN(s))&&(s=100);n.style.zIndex=s;t<0&&(t=0);i<0&&(i=0);n.style.left=parseInt(t)+"px";n.style.top=parseInt(i)+"px";jsUtils.IsIE()&&f&&(o=document.getElementById(n.id+"_frame"),o||(o=document.createElement("IFRAME"),o.src="javascript:''",o.id=n.id+"_frame",o.style.position="absolute",o.style.zIndex=s-1,document.body.appendChild(o)),o.style.width=n.offsetWidth+"px",o.style.height=n.offsetHeight+"px",o.style.left=n.style.left,o.style.top=n.style.top,o.style.visibility="visible");n.restrictDrag=u||!1;isNaN(r)&&(r=5);r>0&&(e=document.getElementById(n.id+"_shadow"),e||(jsUtils.IsIE()?(e=document.createElement("DIV"),e.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+jsUtils.Path.ToAbsolute("~/bitrix/themes/"+dotNetVars.ADMIN_THEME_ID+"/images/shadow.png")+"',sizingMethod='scale')"):(e=document.createElement("IMG"),e.src=jsUtils.Path.ToAbsolute("~/bitrix/themes/"+dotNetVars.ADMIN_THEME_ID+"/images/shadow.png")),e.id=n.id+"_shadow",e.style.position="absolute",e.style.zIndex=s-2,e.style.left="-1000px",e.style.top="-1000px",e.style.lineHeight="normal",document.body.appendChild(e)),e.style.width=n.offsetWidth+"px",e.style.height=n.offsetHeight+"px",e.style.left=parseInt(n.style.left)+r+"px",e.style.top=parseInt(n.style.top)+r+"px",e.style.visibility="visible");n.dxShadow=r};this.Close=function(n){var t,i;n&&(t=document.getElementById(n.id+"_shadow"),t&&(t.style.visibility="hidden"),i=document.getElementById(n.id+"_frame"),i&&(i.style.visibility="hidden"))};this.Move=function(n,t,i){var f;if(n){var e=n.dxShadow,r=parseInt(n.style.left)+t,u=parseInt(n.style.top)+i;n.restrictDrag&&(r<0&&(r=0),windowWidth=document.compatMode&&document.compatMode=="CSS1Compat"?document.documentElement.scrollWidth:document.body.scrollWidth>document.body.offsetWidth||document.compatMode&&document.compatMode=="BackCompat"||document.documentElement&&!document.documentElement.clientWidth?document.body.scrollWidth:document.body.offsetWidth,f=n.offsetWidth,r>windowWidth-f-e&&(r=windowWidth-f-e),u<0&&(u=0));n.style.left=r+"px";n.style.top=u+"px";this.AdjustShadow(n)}};this.HideShadow=function(n){var t=document.getElementById(n.id+"_shadow");t.style.visibility="hidden"};this.UnhideShadow=function(n){var t=document.getElementById(n.id+"_shadow");t.style.visibility="visible"};this.AdjustShadow=function(n){var t=document.getElementById(n.id+"_shadow"),r,i;t&&t.style.visibility!="hidden"&&(r=n.dxShadow,t.style.width=n.offsetWidth+"px",t.style.height=n.offsetHeight+"px",t.style.left=parseInt(n.style.left)+r+"px",t.style.top=parseInt(n.style.top)+r+"px");i=document.getElementById(n.id+"_frame");i&&(i.style.width=n.offsetWidth+"px",i.style.height=n.offsetHeight+"px",i.style.left=n.style.left,i.style.top=n.style.top)};this.StartDrag=function(t,i){try{window.event?(window.event.cancelBubble=!0,window.event.returnValue=!1):t.preventDefault()}catch(t){}t||(t=window.event);this.x=t.clientX+document.body.scrollLeft;this.y=t.clientY+document.body.scrollTop;this.floatDiv=i;jsUtils.addEvent(document,"mousemove",this.MoveDrag);document.onmouseup=this.StopDrag;document.body.setCapture&&document.body.setCapture();var r=document.body;r.ondrag=jsUtils.False;r.onselectstart=jsUtils.False;r.style.MozUserSelect=n.floatDiv.style.MozUserSelect="none";r.style.cursor="move"};this.StopDrag=function(){document.body.releaseCapture&&document.body.releaseCapture();jsUtils.removeEvent(document,"mousemove",n.MoveDrag);document.onmouseup=null;this.floatDiv=null;var t=document.body;t.ondrag=null;t.onselectstart=null;t.style.MozUserSelect=n.floatDiv.style.MozUserSelect="";t.style.cursor=""};this.MoveDrag=function(t){try{window.event?(window.event.cancelBubble=!0,window.event.returnValue=!1):t.preventDefault()}catch(t){}var i=t.clientX+document.body.scrollLeft,r=t.clientY+document.body.scrollTop;(n.x!=i||n.y!=r)&&(n.Move(n.floatDiv,i-n.x,r-n.y),n.x=i,n.y=r)}}var jsUtils={arEvents:Array(),IsDisplayNone:function(n){var t=typeof n=="string"?document.getElementById(n):n;return t.style.display=="none"},ShowTable:function(n,t,i){var r=typeof n=="string"?document.getElementById(n):n;if(r){if(t)try{r.style.display="table"}catch(u){r.style.display=i?i:"block"}else r.style.display="none";r.style.visibility=t?"visible":"hidden"}},ShowTableRow:function(n,t,i){var r=typeof n=="string"?document.getElementById(n):n;if(r){if(t)try{r.style.display="table-row"}catch(u){r.style.display=i?i:"inline"}else r.style.display="none";r.style.visibility=t?"visible":"hidden"}},ShowTableCell:function(n,t,i){var r=typeof n=="string"?document.getElementById(n):n;if(r){if(t)try{r.style.display="table-cell"}catch(u){r.style.display=i?i:"inline"}else r.style.display="none";r.style.visibility=t?"visible":"hidden"}},FindContainingBlock:function(n){while(n!=document.body)if(n=n.parentNode,n.tagName.toLowerCase()=="div"&&(n.style.position=="absolute"||n.style.position=="relative"||n.style.position=="fixed"))return n;return n},Path:{_Normalize:function(n){if(n==null)return"";for(n=jsUtils.trim(n).replace(/\\/g,"/");n.substring(0,1)=="/";)n=jsUtils.trim(n.substring(1));return n},Prepare:function(n){return(n=jsUtils.Path._Normalize(n),n.substring(0,2)!="~/"&&n!="~")?n!=""?"~/"+n:"~":n},IsFull:function(n){return n=jsUtils.trim(n).replace(/\\/g,"/"),/^[a-z]+:/i.test(n)},ExtractExtension:function(n){var t,i;return n==null?"":(t=n.lastIndexOf("/"),t=t==-1?0:t+1,i=n.substring(t).lastIndexOf("."),i==-1||i==n.length-1)?"":jsUtils.trim(n.substring(t+i+1)).toLowerCase()},ToAbsolute:function(n){return n=jsUtils.Path.Prepare(n),n.replace(/^~(\/|$)/,APPPath+"$1")},Combine:function(){var t,n,i;if(arguments.length==0)return"~";for(t="",n=0;n<arguments.length;n++)i=n==0?jsUtils.Path.Prepare(arguments[n]):jsUtils.Path._Normalize(arguments[n]),n!=0&&t.slice(-1)!="/"&&(t+="/"),t+=i;return t},ToAbsoluteTheme:function(n){return jsUtils.Path.ToAbsolute(jsUtils.Path.Combine("~/bitrix/themes/.default",n))},GetDirectory:function(n){if(n=jsUtils.Path.Prepare(n),n==""||n=="~")return"";var t=n.lastIndexOf("/");return t<0?"":jsUtils.trim(n.substring(0,t))}},addEvent:function(n,t,i){n.attachEvent?n.attachEvent("on"+t,i):n.addEventListener?n.addEventListener(t,i,!1):n["on"+t]=i;this.arEvents[this.arEvents.length]={element:n,event:t,fn:i}},removeEvent:function(n,t,i){n.detachEvent?n.detachEvent("on"+t,i):n.removeEventListener?n.removeEventListener(t,i,!1):n["on"+t]=null},removeAllEvents:function(n){for(var t=0;t<this.arEvents.length;t++)this.arEvents[t]&&(n==!1||n==this.arEvents[t].element)&&(jsUtils.removeEvent(this.arEvents[t].element,this.arEvents[t].event,this.arEvents[t].fn),this.arEvents[t]=null);n==!1&&(this.arEvents.length=0)},IsDoctype:function(){return document.compatMode?document.compatMode=="CSS1Compat":document.documentElement&&document.documentElement.clientHeight?!0:!1},GetRealPos:function(n){var t,i;if(!n||!n.offsetParent)return!1;for(t=Array(),t.left=n.offsetLeft,t.top=n.offsetTop,i=n.offsetParent;i&&i.tagName!="BODY";)t.left+=i.offsetLeft,t.top+=i.offsetTop,i=i.offsetParent;return t.right=t.left+n.offsetWidth,t.bottom=t.top+n.offsetHeight,t},FindChildObject:function(n,t,i,r){var f,u,e;if(!n)return null;var o=t.toUpperCase(),s=i?i.toLowerCase():null,h=n.childNodes.length;for(f=0;f<h;f++){if(u=n.childNodes[f],u.tagName&&u.tagName.toUpperCase()==o&&(!i||u.className.toLowerCase()==s))return u;if(r==!0&&(e=jsUtils.FindChildObject(u,t,i,!0)))return e}return null},FindParentObject:function(n,t,i){var r;if(!n)return null;for(var u=n,f=t.toUpperCase(),e=i?i.toLowerCase():null;u.parentNode;){if(r=u.parentNode,r.tagName&&r.tagName.toUpperCase()==f&&(!i||r.className.toLowerCase()==e))return r;u=r}return null},FindNextSibling:function(n,t){var r,u,i;if(!n)return null;for(r=n,u=t.toUpperCase();r.nextSibling;){if(i=r.nextSibling,i.tagName&&i.tagName.toUpperCase()==u)return i;r=i}return null},FindPreviousSibling:function(n,t){var r,u,i;if(!n)return null;for(r=n,u=t.toUpperCase();r.previousSibling;){if(i=r.previousSibling,i.tagName&&i.tagName.toUpperCase()==u)return i;r=i}return null},bOpera:navigator.userAgent.toLowerCase().indexOf("opera")!=-1,bIsIE:/*@cc_on!@*/!1,IsIE:function(){return this.bIsIE},bIEDocumentMode:null,IEDocumentMode:function(){return this.bIEDocumentMode!=null?this.bIEDocumentMode:this.bIEDocumentMode=/*@!@*/!1&&document.documentMode?document.documentMode:-1},bIsIEPre8:null,IsIEPre8:function(){return this.bIsIEPre8!=null?this.bIsIEPre8:this.IsIE()&&this.IEDocumentMode()<8},IsOpera:function(){return this.bOpera},IsSafari:function(){var n=navigator.userAgent.toLowerCase();return/webkit/.test(n)},IsEditor:function(){var n=navigator.userAgent.toLowerCase(),t=(n.match(/.+(msie)[\/: ]([\d.]+)/)||[])[2],i=/webkit/.test(n);return this.IsOpera()||document.all&&!document.compatMode&&t<5.5||i?!1:!0},ToggleDiv:function(n){var t=document.getElementById(n).style;return t.display=t.display!="none"?"none":"block",t.display!="none"},urlencode:function(n){return escape(n).replace(new RegExp("\\+","g"),"%2B")},OpenWindow:function(n,t,i){var r=screen.width,u=screen.height;this.IsOpera()&&(r=document.body.offsetWidth,u=document.body.offsetHeight);window.open(n,"","status=no,scrollbars=yes,resizable=yes,width="+t+",height="+i+",top="+Math.floor((u-i)/2-14)+",left="+Math.floor((r-t)/2-5))},SetPageTitle:function(n){document.title=dotNetVars.titlePrefix+n;var t=document.getElementsByTagName("H1");t&&(t[0].innerHTML=n)},LoadPageToDiv:function(n,t){var i=document.getElementById(t);i&&(CHttpRequest.Action=function(n){CloseWaitWindow();document.getElementById(t).innerHTML=n},ShowWaitWindow(),CHttpRequest.Send(n))},trim:function(n){if(typeof n=="string"||typeof n=="object"&&n.constructor==String){var i,t;return t=/^[\s\r\n]+/g,i=n.replace(t,""),t=/[\s\r\n]+$/g,i.replace(t,"")}return n},Redirect:function(n,t){var i=null,r=!1;n.length>0&&(i=n[0]);i||(i=window.event);i&&(r=i.shiftKey);r?window.open(t):(ShowWaitWindow(),window.location=t)},False:function(){return!1},AlignToPos:function(n,t,i){var u=n.left,f=n.bottom,r=document.body;return r.clientWidth+r.scrollLeft-(n.left+t)<0&&(u=n.right-t>=0?n.right-t:r.scrollLeft),r.clientHeight+r.scrollTop-(n.bottom+i)<0&&(f=n.top-i>=0?n.top-i:r.scrollTop),{left:u,top:f}},EvalGlobal:function(n){try{window.execScript?window.execScript(n,"javascript"):jsUtils.IsSafari()?window.setTimeout(n,0):window.eval(n)}catch(t){}},GetStyleValue:function(n,t){var i;return n.currentStyle?i=n.currentStyle[t]:window.getComputedStyle&&(i=document.defaultView.getComputedStyle(n,null).getPropertyValue(t)),i||(i=""),i},GetWindowInnerSize:function(n){var t,i;return n||(n=document),self.innerHeight?(t=self.innerWidth,i=self.innerHeight):n.documentElement&&n.documentElement.clientHeight?(t=n.documentElement.clientWidth,i=n.documentElement.clientHeight):n.body&&(t=n.body.clientWidth,i=n.body.clientHeight),{innerWidth:t,innerHeight:i}},GetWindowScrollPos:function(n){var t,i;return n||(n=document),self.pageYOffset?(t=self.pageXOffset,i=self.pageYOffset):n.documentElement&&n.documentElement.scrollTop?(t=document.documentElement.scrollLeft,i=document.documentElement.scrollTop):n.body&&(t=n.body.scrollLeft,i=n.body.scrollTop),{scrollLeft:t,scrollTop:i}},GetWindowScrollSize:function(n){var t,i;return n||(n=document),n.compatMode&&n.compatMode=="CSS1Compat"?(t=n.documentElement.scrollWidth,i=n.documentElement.scrollHeight):(i=n.body.scrollHeight>n.body.offsetHeight?n.body.scrollHeight:n.body.offsetHeight,t=n.body.scrollWidth>n.body.offsetWidth||n.compatMode&&n.compatMode=="BackCompat"||n.documentElement&&!n.documentElement.clientWidth?n.body.scrollWidth:n.body.offsetWidth),{scrollWidth:t,scrollHeight:i}},GetWindowSize:function(){var n=jsUtils.GetWindowInnerSize(),t=jsUtils.GetWindowScrollPos(),i=jsUtils.GetWindowScrollSize();return{innerWidth:n.innerWidth,innerHeight:n.innerHeight,scrollLeft:t.scrollLeft,scrollTop:t.scrollTop,scrollWidth:i.scrollWidth,scrollHeight:i.scrollHeight}},arCustomEvents:{},addCustomEvent:function(n,t,i,r){this.arCustomEvents[n]||(this.arCustomEvents[n]=[]);i||(i=[]);r||(r=!1);this.arCustomEvents[n].push({handler:t,arParams:i,obj:r})},removeCustomEvent:function(n,t){var r,i;if(this.arCustomEvents[n]){if(r=this.arCustomEvents[n].length,r==1){delete this.arCustomEvents[n];return}for(i=0;i<r;i++)if(this.arCustomEvents[n][i]&&this.arCustomEvents[n][i].handler==t){delete this.arCustomEvents[n][i];return}}},onCustomEvent:function(n,t){var i,r,u;if(this.arCustomEvents[n])for(t||(t=[]),r=0,u=this.arCustomEvents[n].length;r<u;r++)(i=this.arCustomEvents[n][r],i&&i.handler)&&(i.obj?i.handler.call(i.obj,i.arParams,t):i.handler(i.arParams,t))},loadJSFile:function(n,t,i){i||(i=document);typeof n=="string"&&(n=[n]);var u=function(){if(t){if(typeof t=="function")return t();if(typeof t=="object"&&t.func){var n=t.params||{};t.obj?t.func.apply(t.obj,n):t.func(n)}}},r=function(t){var f,e;if(t>=n.length)return u();f=i.body.appendChild(i.createElement("script"));f.src=n[t];e=!1;f.onload=f.onreadystatechange=function(){e||f.readyState&&f.readyState!="loaded"&&f.readyState!="complete"||(e=!0,setTimeout(function(){r(++t)},50))}};r(0)},loadCSSFile:function(n,t,i){var o,u,f,e,s,r;if((typeof n=="string"&&(o=!0,n=[n]),f=n.length,e=[],f!=0)&&(t||(t=document),i||(i=window),i.bxhead||(s=t.getElementsByTagName("HEAD"),i.bxhead=s[0]),window.bxhead)){for(u=0;u<f;u++)r=document.createElement("LINK"),r.href=n[u],r.rel="stylesheet",r.type="text/css",i.bxhead.appendChild(r),e.push(r);return o?r:e}},appendBXHint:function(n,t){if(n&&n.parentNode&&t){var i=new BXHint(t);n.parentNode.insertBefore(i.oIcon,n);n.parentNode.removeChild(n);i.oIcon.style.marginLeft="5px"}},PreventDefault:function(n){return n||(n=window.event),n.stopPropagation?(n.preventDefault(),n.stopPropagation()):(n.cancelBubble=!0,n.returnValue=!1),!1},CreateElement:function(n,t,i,r){r||(r=document);var f=r.createElement(n),u;if(t)for(u in t){if(u=="className"||u=="class"){f.setAttribute("class",t[u]);jsUtils.IsIE()&&f.setAttribute("className",t[u]);continue}t[u]!=undefined&&t[u]!=null&&f.setAttribute(u,t[u])}if(i)for(u in i)f.style[u]=i[u];return f},in_array:function(n,t){for(var i=0;i<t.length;i++)if(t[i]==n)return!0;return!1}},jsFloatDiv=new JCFloatDiv,BXHint=function(n,t,i){this.oDivOver=!1;this.timeOutID=null;this.oIcon=null;this.freeze=!1;this.x=0;this.y=0;this.time=700;n||(n="");this.Create(n,t,i)};BXHint.prototype.Create=function(n,t,i){var r=this,f=0,e=0,o=null,u="icon",t;this.bWidth=!0;i&&(i.width===!1?this.bWidth=!1:i.width&&(f=i.width),i.height&&(e=i.height),i.className&&(o=i.className),i.type&&(i.type=="link"||i.type=="icon")&&(u=i.type),i.time>0&&(this.time=i.time));t&&(u="element");u=="icon"?(t=document.createElement("IMG"),t.src=i&&i.iconSrc?i.iconSrc:jsUtils.Path.ToAbsolute("~/bitrix/themes/"+dotNetVars.ADMIN_THEME_ID+"/public/popup/hint.gif"),t.ondrag=jsUtils.False):u=="link"&&(t=document.createElement("A"),t.href="",t.onclick=function(){return!1},t.innerHTML="[?]");this.element=t;u=="element"?(jsUtils.addEvent(t,"mouseover",function(t){t||(t=window.event);r.GetMouseXY(t);r.timeOutID=setTimeout(function(){r.Show(n,f,e,o)},750)}),jsUtils.addEvent(t,"mouseout",function(){r.timeOutID&&clearTimeout(r.timeOutID);r.SmartHide(r)})):(this.oIcon=t,t.onmouseover=function(t){t||(t=window.event);r.GetMouseXY(t);r.Show(n,f,e,o)},t.onmouseout=function(){r.SmartHide(r)})};BXHint.prototype.IsFrozen=function(){return this.freeze};BXHint.prototype.Freeze=function(){this.freeze=!0;this.Hide()};BXHint.prototype.UnFreeze=function(){this.freeze=!1};BXHint.prototype.GetMouseXY=function(n){n.pageX||n.pageY?(this.x=n.pageX,this.y=n.pageY):(n.clientX||n.clientY)&&(this.x=n.clientX+(document.documentElement.scrollLeft||document.body.scrollLeft)-document.documentElement.clientLeft,this.y=n.clientY+(document.documentElement.scrollTop||document.body.scrollTop)-document.documentElement.clientTop)};BXHint.prototype.Show=function(n,t,i,r){var h=document.getElementById("__BXHint_div"),e,u,f,o,s;(h&&this.Hide(),this.freeze)||(e=this,u=document.body.appendChild(document.createElement("DIV")),u.onmouseover=function(){e.oDivOver=!0},u.onmouseout=function(){e.oDivOver=!1;e.SmartHide(e)},u.id="__BXHint_div",u.className=r?r:"bxhint",u.style.position="absolute",t&&this.bWidth&&(u.style.width=t+"px"),i&&(u.style.height=i+"px"),u.innerHTML=n,f=u.offsetWidth,o=u.offsetHeight,this.bWidth&&(!t&&f>200&&(f=Math.round(Math.sqrt(1.618*f*o))),u.style.width=f+"px",o=u.offsetHeight),s={left:this.x+10,right:this.x+f,top:this.y,bottom:this.y+o},s=this.AlignToPos(s,f,o),u.style.zIndex=2100,jsFloatDiv.Show(u,s.left,s.top,3),u.ondrag=jsUtils.False,u.onselectstart=jsUtils.False,u.style.MozUserSelect="none",u=null)};BXHint.prototype.AlignToPos=function(n,t,i){var r=document.body;return r.clientWidth+r.scrollLeft<n.left+t&&(n.left=n.left-t>=0?n.left-t:r.scrollLeft),r.clientHeight+r.scrollTop-n.bottom<0&&(n.top=n.top-i>=0?n.top-i:r.scrollTop),n};BXHint.prototype.Hide=function(){var n=document.getElementById("__BXHint_div");n&&(jsFloatDiv.Close(n),n.parentNode.removeChild(n),n=null)};BXHint.prototype.SmartHide=function(n){setTimeout(function(){n.oDivOver||n.Hide()},100)};typeof Sys!="undefined"&&Sys.Application.notifyScriptLoaded();