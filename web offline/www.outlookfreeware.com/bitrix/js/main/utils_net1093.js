if(typeof Bitrix=="undefined")var Bitrix={};typeof Bitrix.TypeUtility=="undefined"&&(Bitrix.TypeUtility=function(){},Bitrix.TypeUtility.isString=function(n){return typeof n=="string"||n instanceof String},Bitrix.TypeUtility.isNotEmptyString=function(n){return typeof n=="string"||n instanceof String?n.length>0:!1},Bitrix.TypeUtility.isBoolean=function(n){return typeof n=="boolean"||n instanceof Boolean},Bitrix.TypeUtility.isNumber=function(n){return typeof n=="number"||n instanceof Number},Bitrix.TypeUtility.isFunction=function(n){return typeof n=="function"||n instanceof Function},Bitrix.TypeUtility.isElementNode=function(n){return n&&typeof n=="object"&&"nodeType"in n&&n.nodeType==1},Bitrix.TypeUtility.isDomNode=function(n){return n&&typeof n=="object"&&"nodeType"in n},Bitrix.TypeUtility.isDomElement=function(n){return this.isElementNode(n)},Bitrix.TypeUtility.tryConvertToString=function(n){return typeof n=="string"||n instanceof String?n:typeof n.toString=="function"?n.toString():n==null?"null":n==undefined?"undefined":"<?>"},Bitrix.TypeUtility.tryConvertToFloat=function(n,t){return typeof n=="number"||n instanceof Number?n:n==null||n==undefined?t?t:Number.Nan:parseFloat(this.isString(n)?n:n.toString())},Bitrix.TypeUtility.tryConvertToInt=function(n,t){return typeof n=="number"||n instanceof Number?n:n==null||n==undefined?t?t:Number.Nan:parseInt(this.isString(n)?n:n.toString())},Bitrix.TypeUtility.createDelegate=function(n,t){return function(){if(!t)throw"TypeUtility.createDelegate: method is not defined";return t.apply(n,arguments)}},Bitrix.TypeUtility.createSimpleEventHandlerDelegate=function(n,t){return function(){return t.call(n,this)}},Bitrix.TypeUtility.returnFalse=function(){return!1},Bitrix.TypeUtility.disableSelection=function(n){/*@cc_on!@*/!1?(n.setAttribute("UNSELECTABLE","on"),typeof n.onselectstart!="undefined"&&(n.onselectstart=Bitrix.TypeUtility.returnFalse)):typeof n.style.MozUserSelect!="undefined"?n.style.MozUserSelect="none":n.onmousedown=Bitrix.TypeUtility.returnFalse},Bitrix.TypeUtility.tryGetObjProp=function(n,t,i){return this.isNotEmptyString(t)?n&&typeof n=="object"&&t in n?n[t]:i:i},Bitrix.TypeUtility.csvToArray=function(){var i=[],r=/'(?:''|[^'\r\n])*'|[^;\r\n]*/,n,t;if(str=="")return i;for(n=str.match(r);n!=null;){if(t=n[0],t.length>=2&&t.charAt([0])=="'"&&t.charAt(t.length-1)=="'"&&(t=t.slice(1,-1).replace(/''/g,"'")),i.push(t),n.index+n[0].length<str.length)str=str.substring(n.index+n[0].length+1);else break;n=str.match(r)}return i},Bitrix.TypeUtility.arrayToCsv=function(n){var u=n.length,i,r,t;if(!u)return"";for(i="",r=0;r<u;r++)t=n[r].toString(),(t==""||jsUtils.trim(t).length!=t.length||t.search(/[';]/))&&(t="'"+t.replace(/'/g,"''")+"'"),i.length!=0&&(i+=";"),i+=t;return i},Bitrix.TypeUtility.extend=function(n,t){var i=function(){};i.prototype=t.prototype;n.prototype=new i;n.prototype.constructor=n;n.superclass=t.prototype},Bitrix.TypeUtility.copyPrototype=function(n,t){var u=t.toString(),r=u.match(/\s*function (.*)\(/),i;r!=null&&(n.prototype[r[1]]=t);for(i in t.prototype)n.prototype[i]=t.prototype[i]},typeof Bitrix.TypeUtility.registerClass!="function"||Type.isClass(Bitrix.TypeUtility)||Bitrix.TypeUtility.registerClass("Bitrix.TypeUtility"),Bitrix.HttpUtility=function(){},Bitrix.HttpUtility.createXMLHttpRequest=function(){return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest},Bitrix.HttpUtility.htmlDecode=function(n){var t,i;return Bitrix.TypeUtility.isNotEmptyString(n)?/*@!@*/!0?(t=document.createElement("TEXTAREA"),t.innerHTML=n,i=t.value,delete t,i):n.replace(/\&quot;/g,'"').replace(/\&apos;/g,"'").replace(/\&gt;/g,">").replace(/\&lt;/g,"<").replace(/\&shy;/g,"").replace(/\&amp;/g,"&"):""},Bitrix.HttpUtility.htmlEncode=function(n){var t,i,r;return Bitrix.TypeUtility.isNotEmptyString(n)?(t=document.createElement("DIV"),i=document.createTextNode(n),t.appendChild(i),r=t.innerHTML,delete t,r.replace(/"/g,"&quot;")):""},Bitrix.HttpUtility.jsonEncode=function(n){var t=/[\\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff\u003c\u003e]/g,i={"\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\","<":"\\u003c",">":"\\u003e"};return(t.lastIndex=0,!t.test(n))?n:n.replace(t,function(n){var t=i[n];return typeof t=="string"?t:"\\u"+("0000"+n.charCodeAt(0).toString(16)).slice(-4)})},Bitrix.EventUtility=function(){var n=[];return{addEventListener:window.attachEvent?function(t,i,r){if(t){var u={target:t,name:i,callback:r,handler:function(){r.call(t,window.event)}};t.attachEvent("on"+i,u.handler);n.push(u)}}:function(n,t,i,r){n&&n.addEventListener(t,i,r)},removeEventListener:window.detachEvent?function(t,i,r){for(var u,e=n.length,f=0;f<e;f++)if(u=n[f],u.target==t&&u.name==i&&u.callback==r){t.detachEvent("on"+i,u.handler);n.splice(f,1);break}}:function(n,t,i,r){n.removeEventListener(t,i,r)},stopEventPropagation:function(n){n||(n=window.event);n.stopPropagation?n.stopPropagation():n.cancelBubble=!0}}}(),Bitrix.WebAppHelper=function(){typeof Bitrix.WebAppHelper.initializeBase=="function"&&Bitrix.WebAppHelper.initializeBase(this);this._initialized=!1},Bitrix.WebAppHelper.prototype={getPath:function(){return Bitrix.TypeUtility.isString(window.bitrixWebAppPath)?window.bitrixWebAppPath:Bitrix.TypeUtility.isString(window.APPPath)?window.APPPath:""}},Bitrix.WebAppHelper._instance=null,Bitrix.WebAppHelper.getInstance=function(){return this._instance==null&&(this._instance=new Bitrix.WebAppHelper),this._instance},Bitrix.WebAppHelper.getPath=function(){return this.getInstance().getPath()},Bitrix.NavigationHelper=function(){},Bitrix.NavigationHelper.isOpera=function(){try{return"opera"in window&&navigator.userAgent.indexOf("Opera")>=0}catch(n){return!1}},Bitrix.NavigationHelper.isSafari=function(){if(!("navigator"in window))return!1;var n=window.navigator;return"vendor"in n&&Bitrix.TypeUtility.isNotEmptyString(n.vendor)&&n.vendor.indexOf("Apple")<0?!1:"userAgent"in n&&Bitrix.TypeUtility.isNotEmptyString(n.userAgent)&&n.userAgent.indexOf("Safari")>=0},Bitrix.NavigationHelper.isFirefox=function(){if(!("navigator"in window))return!1;var n=window.navigator.userAgent.toLowerCase();return Bitrix.TypeUtility.isNotEmptyString(n)&&n.indexOf("firefox")>=0},typeof Bitrix.WebAppHelper.registerClass!="function"||Type.isClass(Bitrix.WebAppHelper)||Bitrix.WebAppHelper.registerClass("Bitrix.WebAppHelper"),Bitrix.GoodbyeWindow=function(){typeof Bitrix.GoodbyeWindow.initializeBase=="function"&&Bitrix.GoodbyeWindow.initializeBase(this);this._initialized=!1;this._containerDivId="bx_googbye_window_container";this._content="";this._topPanelDivId="bx_googbye_window_topPanel";this._contentDivId="bx_googbye_window_content";this._contentSpanId="bx_googbye_window_content_text";this._timeToLive=1;this._layoutType="";this._onShowClientScript=null;this._onHideClientScript=null;this._isVisible=!1;this._containerDivCssClass="";this._topPanelDivCssClass="";this._contentDivCssClass="";this._contentSpanCssClass="";this._layoutCssClassSuccess="";this._layoutCssClassError=""},Bitrix.GoodbyeWindow.prototype={initialize:function(){this._initialized||(this.reset(),this._initialized=!0)},getContent:function(){return this._content},setContent:function(n){this._content=n},getLayoutType:function(){return this._layoutType},setLayoutType:function(n){this._layoutType=n},getTimeToLive:function(){return this._timeToLive},setTimeToLive:function(n){if(isNaN(n))throw String.concat("'",n,"'"," is not a number!");this._timeToLive=parseInt(n)},getContainerDivCssClass:function(){return this._containerDivCssClass},setContainerDivCssClass:function(n){this._containerDivCssClass=n},getTopPanelDivCssClass:function(){return this._topPanelDivCssClass},setTopPanelDivCssClass:function(n){this._topPanelDivCssClass=n},getContentDivCssClass:function(){return this._contentDivCssClass},setContentDivCssClass:function(n){this._contentDivCssClass=n},getContentSpanCssClass:function(){return this._contentSpanCssClass},setContentSpanCssClass:function(n){this._contentSpanCssClass=n},getLayoutCssClassSuccess:function(){return this._layoutCssClassSuccess},setLayoutCssClassSuccess:function(n){this._layoutCssClassSuccess=n},getLayoutCssClassError:function(){return this._layoutCssClassError},setLayoutCssClassError:function(n){this._layoutCssClassError=n},getOnHideClientScript:function(){return this._onHideClientScript},setOnHideClientScript:function(n){this._onHideClientScript=n},getOnShowClientScript:function(){return this._onShowClientScript},setOnShowClientScript:function(n){this._onShowClientScript=n},getDefaultTimeToLive:function(){return 1800},reset:function(){this._content="Everything Is Fine...";this._timeToLive=this.getDefaultTimeToLive();this._layoutType="SUCCESS";this._onShowClientScript=null;this._onHideClientScript=null},show:function(){var n,i,o,r,t,s,h,f,e,c,u,l,a;this._isVisible||(this._onShowClientScript!=null&&this._onShowClientScript.length>0&&window.eval(this._onShowClientScript),n=document.getElementById(this._containerDivId),n==null&&(n=document.createElement("DIV"),n.style.visibility="hidden",n=document.body.appendChild(n),n.id=this._containerDivId,Bitrix.TypeUtility.isNotEmptyString(this._containerDivCssClass)?n.className=this._containerDivCssClass:(n.style.backgroundColor="#edf1f3",n.style.borderWidth="1px",n.style.borderStyle="solid",n.style.borderColor="#ad9634",n.style.padding="1px",n.style.margin="0px",n.style.position="absolute",n.style.textAlign="left",n.style.fontFamily="Tahoma",n.style.fontSize="12px",n.style.fontWeight="normal",n.style.zIndex="1001")),i=document.getElementById(this._topPanelDivId),i==null&&(i=document.createElement("DIV"),n.appendChild(i),i.id=this._topPanelDivId,Bitrix.TypeUtility.isNotEmptyString(this._topPanelDivCssClass)?i.className=this._topPanelDivCssClass:(i.onclick=function(){Bitrix.GoodbyeWindow.getInstance().hide()},i.style.width="10px",i.style.height="10px",i.style.margin="0px",i.style.padding="0px",i.style.position="absolute",i.style.top="1px",i.style.right="1px",o=Bitrix.PathHelper.combine(Bitrix.PathHelper.getApplicationPath(),"bitrix/images/close_window_mini_button.gif"),i.style.background="transparent url("+o+") no-repeat scroll 0% 0%",i.style.cursor="pointer")),r=document.getElementById(this._contentDivId),r==null&&(r=document.createElement("DIV"),n.appendChild(r),r.id=this._contentDivId,Bitrix.TypeUtility.isNotEmptyString(this._contentDivCssClass)?r.className=this._contentDivCssClass:(r.style.padding="0px",r.style.margin="5px 10px 5px 10px")),t=document.getElementById(this._contentSpanId),t==null&&(t=document.createElement("SPAN"),r.appendChild(t),t.id=this._contentSpanId,Bitrix.TypeUtility.isNotEmptyString(this._contentSpanCssClass)?t.className=this._contentSpanCssClass:(t.style.padding="0px",t.style.margin="0px")),t.innerHTML="",t.innerHTML=this._content,Bitrix.TypeUtility.isNotEmptyString(this._layoutCssClassSuccess)&&(s=new RegExp(this._layoutCssClassSuccess,"gi"),t.className=t.className.replace(s,"")),Bitrix.TypeUtility.isNotEmptyString(this._layoutCssClassError)&&(h=new RegExp(this._layoutCssClassError,"gi"),t.className=t.className.replace(h,"")),this._layoutType=="SUCCESS"?Bitrix.TypeUtility.isNotEmptyString(this._layoutCssClassSuccess)?t.className=t.className.concat(" ",this._layoutCssClassSuccess):t.style.color="Green":this._layoutType=="ERROR"&&(Bitrix.TypeUtility.isNotEmptyString(this._layoutCssClassError)?t.className=t.className.concat(" ",this._layoutCssClassError):t.style.color="Red"),f=jsUtils.GetWindowInnerSize(),e=jsUtils.GetWindowScrollPos(),n.style.visibility="visible",u=parseInt(r.offsetWidth),u>250&&(c=parseInt(r.offsetHeight),u=Math.round(Math.sqrt(2.1*u*c)),r.style.width=u+"px"),l=parseInt(e.scrollLeft+f.innerWidth/2-n.offsetWidth/2),a=parseInt(e.scrollTop+f.innerHeight/2-n.offsetHeight/2),n.style.top=a+"px",n.style.left=l+"px",this._timeToLive>=0&&window.setTimeout(Bitrix.TypeUtility.createDelegate(this,this.hide),this._timeToLive>0?this._timeToLive:this.getDefaultTimeToLive()),this._isVisible=!0)},hide:function(){var t,n;this._isVisible&&(t=document.getElementById(this._containerDivId),t!=null)&&(t.style.visibility="hidden",n=this._onHideClientScript,this.reset(),n!=null&&n.length>0&&window.eval(n),this._isVisible=!1)},_getStyleAttributeValue:function(n,t){var i,r;if(!n)throw"Source element is not defined!";return Sys.Browser.agent===Sys.Browser.InternetExplorer?(i=n.currentStyle,i.getAttribute(t)):(r=document.defaultView.getComputedStyle(n,""),r.getPropertyValue(t))},_parseInt:function(n,t){return!n||isNaN(n)?t:parseInt(n)}},Bitrix.GoodbyeWindow._instance=null,Bitrix.GoodbyeWindow.getInstance=function(){return this._instance==null&&(this._instance=new Bitrix.GoodbyeWindow,this._instance.initialize()),this._instance},Bitrix.GoodbyeWindow.show=function(n,t,i){var r=this.getInstance();r.setContent(n);r.setLayoutType(t);r.setTimeToLive(i);r.show()},Bitrix.GoodbyeWindow.getContainerDivCssClass=function(){return this.getInstance().getContainerDivCssClass()},Bitrix.GoodbyeWindow.setContainerDivCssClass=function(n){this.getInstance().setContainerDivCssClass(n)},Bitrix.GoodbyeWindow.getTopPanelDivCssClass=function(){return this.getInstance().getTopPanelDivCssClass()},Bitrix.GoodbyeWindow.setTopPanelDivCssClass=function(n){this.getInstance().setTopPanelDivCssClass(n)},Bitrix.GoodbyeWindow.getContentDivCssClass=function(){return this.getInstance().getContentDivCssClass()},Bitrix.GoodbyeWindow.setContentDivCssClass=function(n){this.getInstance().setContentDivCssClass(n)},Bitrix.GoodbyeWindow.getContentSpanCssClass=function(){return this.getInstance().getContentSpanCssClass()},Bitrix.GoodbyeWindow.setContentSpanCssClass=function(n){this.getInstance().setContentSpanCssClass(n)},Bitrix.GoodbyeWindow.getLayoutCssClassSuccess=function(){return this.getInstance().getLayoutCssClassSuccess()},Bitrix.GoodbyeWindow.setLayoutCssClassSuccess=function(n){this.getInstance().setLayoutCssClassSuccess(n)},Bitrix.GoodbyeWindow.getLayoutCssClassError=function(){return this.getInstance().getLayoutCssClassError()},Bitrix.GoodbyeWindow.setLayoutCssClassError=function(n){this.getInstance().setLayoutCssClassError(n)},typeof Bitrix.GoodbyeWindow.registerClass!="function"||Type.isClass(Bitrix.GoodbyeWindow)||Bitrix.GoodbyeWindow.registerClass("Bitrix.GoodbyeWindow"),Bitrix.ObjectHelper=function(){this._initialized=!1},Bitrix.ObjectHelper.prototype={initialize:function(){this._initialized=!0},tryGetBoolean:function(n,t,i){if(typeof n!="object"||!n)throw"object is not valid!";if(!Bitrix.TypeUtility.isString(t))throw"name is not valid!";if(!(t in n))return i;var r=n[t];return Bitrix.TypeUtility.isBoolean(r)?r:Bitrix.TypeUtility.isString(r)?r.toUpperCase()=="TRUE":i},tryGetString:function(n,t,i){if(typeof n!="object")throw"object is not valid!";if(!Bitrix.TypeUtility.isString(t))throw"name is not valid!";return n&&t in n&&Bitrix.TypeUtility.isString(n[t])?n[t]:i},tryGetBooleanByNameArray:function(n,t,i){var r,u,f;if(typeof n!="object"||!n)throw"object is not valid!";if(!(t instanceof Array))throw"nameArr is not valid!";if(t.length==0)return i;for(r=undefined,u=0;u<t.length;u++)if(t[u]in n){if(f=n[t[u]],Bitrix.TypeUtility.isBoolean(f)){r=f;break}if(Bitrix.TypeUtility.isString(f)){r=f.toUpperCase()=="TRUE";break}}return r!=undefined?r:i},tryGetStringByNameArray:function(n,t,i){var u,r,f;if(typeof n!="object"||!n)throw"object is not valid!";if(!(t instanceof Array))throw"nameArr is not valid!";if(t.length==0)return i;for(u=undefined,r=0;r<t.length;r++)if(t[r]in n&&(f=n[t[r]],Bitrix.TypeUtility.isString(f))){u=f;break}return u!=undefined?u:i},tryGetIntByNameArray:function(n,t,i){var u,f,r;if(typeof n!="object"||!n)throw"object is not valid!";if(!(t instanceof Array))throw"nameArr is not valid!";if(t.length==0)return i;for(r=undefined,u=0;u<t.length;u++)if(t[u]in n){if(f=n[t[u]],Bitrix.TypeUtility.isNumber(f)){r=f;break}if(Bitrix.TypeUtility.isString(f)){if(r=parseInt(f),!isNaN(r))break;r=undefined}}return r!=undefined?r:i},tryGetInt:function(n,t,i){var r,u;if(typeof n!="object"||!n)throw"object is not valid!";if(!Bitrix.TypeUtility.isString(t))throw"name is not valid!";return(t in n)?(r=n[t],Bitrix.TypeUtility.isNumber(r))?r:Bitrix.TypeUtility.isString(r)&&(u=parseInt(r),!isNaN(u))?u:i:i},tryGetFloat:function(n,t,i){var r,u;if(typeof n!="object"||!n)throw"object is not valid!";if(!Bitrix.TypeUtility.isString(t))throw"name is not valid!";return(t in n)?(r=n[t],Bitrix.TypeUtility.isNumber(r))?r:Bitrix.TypeUtility.isString(r)&&(u=parseFloat(r),!isNaN(u))?u:i:i},setStringIfNotEmpty:function(n,t,i){if(typeof n!="object"||!n)throw"object is not valid!";if(!Bitrix.TypeUtility.isString(t))throw"name is not valid!";Bitrix.TypeUtility.isNotEmptyString(i)&&(n[t]=i)},setString:function(n,t,i){if(typeof n!="object"||!n)throw"object is not valid!";if(!Bitrix.TypeUtility.isString(t))throw"name is not valid!";Bitrix.TypeUtility.isString(i)&&(n[t]=i)},setBoolean:function(n,t,i){if(typeof n!="object"||!n)throw"object is not valid!";if(!Bitrix.TypeUtility.isString(t))throw"name is not valid!";Bitrix.TypeUtility.isNumber(i)?n[t]=i>0:Bitrix.TypeUtility.isBoolean(i)&&(n[t]=i)},setNumber:function(n,t,i){if(typeof n!="object"||!n)throw"object is not valid!";if(!Bitrix.TypeUtility.isString(t))throw"name is not valid!";Bitrix.TypeUtility.isNumber(i)&&(n[t]=i)}},Bitrix.ObjectHelper._instance=null,Bitrix.ObjectHelper.getInstance=function(){return this._instance==null&&(this._instance=new Bitrix.ObjectHelper,this._instance.initialize()),this._instance},Bitrix.ObjectHelper.tryGetBoolean=function(n,t,i){return this.getInstance().tryGetBoolean(n,t,i)},Bitrix.ObjectHelper.tryGetBooleanByNameArray=function(n,t,i){return this.getInstance().tryGetBooleanByNameArray(n,t,i)},Bitrix.ObjectHelper.tryGetString=function(n,t,i){return this.getInstance().tryGetString(n,t,i)},Bitrix.ObjectHelper.tryGetStringByNameArray=function(n,t,i){return this.getInstance().tryGetStringByNameArray(n,t,i)},Bitrix.ObjectHelper.tryGetInt=function(n,t,i){return this.getInstance().tryGetInt(n,t,i)},Bitrix.ObjectHelper.tryGetFloat=function(n,t,i){return this.getInstance().tryGetFloat(n,t,i)},Bitrix.ObjectHelper.tryGetIntByNameArray=function(n,t,i){return this.getInstance().tryGetIntByNameArray(n,t,i)},Bitrix.ObjectHelper.setStringIfNotEmpty=function(n,t,i){return this.getInstance().setStringIfNotEmpty(n,t,i)},Bitrix.ObjectHelper.setString=function(n,t,i){return this.getInstance().setString(n,t,i)},Bitrix.ObjectHelper.setBoolean=function(n,t,i){return this.getInstance().setBoolean(n,t,i)},Bitrix.ObjectHelper.setNumber=function(n,t,i){return this.getInstance().setNumber(n,t,i)},typeof Bitrix.ObjectHelper.registerClass!="function"||Type.isClass(Bitrix.ObjectHelper)||Bitrix.ObjectHelper.registerClass("Bitrix.ObjectHelper"),Bitrix.ArrayHelper={},Bitrix.ArrayHelper.toString=function(n){var i,r,t;if(Bitrix.TypeUtility.isString(n))return n;if(n instanceof Array){for(i="",r=0;r<n.length;r++)(t=n[r].toString(),t)&&(i.length>0&&(i+=","),i+=t);return i}return t=this.getName(values,n),t?t:""},Bitrix.ArrayHelper.fromString=function(n){var u=[],t=Bitrix.TypeUtility.isNotEmptyString(n)?n.split(","):null,i,r;if(t&&t.length>0)for(i=0;i<t.length;i++)(r=jsUtils.trim(t[i]),r)&&u.push(r);return u},Bitrix.ArrayHelper.findInArray=function(n,t){if(t instanceof Array)for(var i=0;i<t.length;i++)if(t[i]===n)return i;return-1},Bitrix.DomHelper={},Bitrix.DomHelper.addToSelect=function(n,t){var u,i,r;if(Bitrix.TypeUtility.isDomNode(n)&&t instanceof Array)for(u=0;u<t.length;u++)if(i=t[u],r=null,Bitrix.TypeUtility.isDomNode(i)?r=i:typeof i=="object"&&"text"in i&&"value"in i&&(r=document.createElement("OPTION"),r.text=i.text,r.value=i.value,"disabled"in i&&i.disabled&&(r.disabled=!0)),r)try{n.add(r,null)}catch(f){n.add(r)}},Bitrix.DomHelper.removeAllFromSelect=function(n){if(Bitrix.TypeUtility.isDomNode(n))while(n.length>0)n.remove(0)},Bitrix.DomHelper.selectOption=function(n,t,i){if(n&&Bitrix.TypeUtility.isDomNode(n)&&Bitrix.TypeUtility.isNotEmptyString(t))for(var r=0;r<n.options.length;r++)n.options[r].selected=i?n.options[r].value.toUpperCase()==t.toUpperCase():n.options[r].value==t},Bitrix.DomHelper.selectOptions=function(n,t){var i,u,f,r;if(Bitrix.TypeUtility.isDomNode(n)&&t instanceof Array)for(i=0;i<n.options.length;i++){for(u=n.options[i],f=!1,r=0;r<t.length;r++)if(u.value==t[r]){f=!0;break}u.selected=f}},Bitrix.DomHelper.display=function(n,t){t=!!t;n&&Bitrix.TypeUtility.isDomNode(n)&&(n.style.display=t?"":"none")},Bitrix.DomHelper.innerHTML=function(n,t){n&&Bitrix.TypeUtility.isDomNode(n)&&(n.innerHTML=t)},Bitrix.PathHelper=function(){this._initialized=!1;this._isAbsoluteUrlRx=null;this._absoluteUrlPathRx=null},Bitrix.PathHelper.prototype={initialize:function(){this._initialized=!0;this._isAbsoluteUrlRx=new RegExp("^[a-z][a-z,0-9]+([.][a-z,0-9]+)?:","i");this._absoluteUrlPathRx=new RegExp("^([a-z.0-9]+):(//)?([a-z_0-9:@.]+)/(.+)","i")},getApplicationPath:function(){return"bitrixWebAppPath"in window&&Bitrix.TypeUtility.isNotEmptyString(window.bitrixWebAppPath)?window.bitrixWebAppPath:"/"},isVirtual:function(n){return Bitrix.TypeUtility.isString(n)?n.length>0&&n.charAt(0)=="~":!1},isAbsolute:function(n){return Bitrix.TypeUtility.isString(n)?this._isAbsoluteUrlRx.test(n):!1},isRelative:function(n){return!this.isAbsolute(n)},parse:function(n){if(!Bitrix.TypeUtility.isString(n))throw"path is not valid!";if(this.isAbsolute(n)){var t=this._absoluteUrlPathRx.exec(n);return t==null?null:{scheme:t[1],schemeSeparator:t[2],hostAndPort:t[3],path:t[4]}}if(this.isRelative(n))return{scheme:"",schemeSeparator:"",hostAndPort:"",path:n};if(this.isVirtual(n))throw"Virtual paths is not supported!";throw n+" could not be parsed!";},resolveVirtualPath:function(n){if(!this.isVirtual(n))return n;var t=this.getApplicationPath();for(t=this.appendTrailingSlash(t),n=n.substr(1);n.length>0&&n.charAt(0)=="/";)n=n.substr(1);return t.concat(n)},makeVirtual:function(n){if(!Bitrix.TypeUtility.isString(n))throw"path is not valid!";if(this.isVirtual(n))return n;var t=this.getApplicationPath();return(t=this.appendTrailingSlash(t),n.indexOf(t)!=0)?n:"~/"+n.substr(t.length)},appendTrailingSlash:function(n){if(!Bitrix.TypeUtility.isString(n))throw"path is not valid!";return n.length==0?"/":(n.charAt(n.length-1)!="/"&&(n+="/"),n)},combine:function(n,t){var u,e,r,i,o,f;if(!n&&!t)return"";if(n&&!Bitrix.TypeUtility.isString(n))throw"path1 is not valid!";if(t&&!Bitrix.TypeUtility.isString(t))throw"path2 is not valid!";if(!t)return n;if(!n||this.isVirtual(t)||!this.isRelative(t)||(u=0,t.charAt(0)=="/"))return t;while(t.length>0){if(t.indexOf("../")==0){t=t.substr(3);u++;continue}if(t.indexOf("./")==0){t=t.substr(2);continue}if(t.indexOf("/")==0){t=t.substr(1);continue}break}if(u>0){if(e=this.isVirtual(n),e&&(n=this.resolveVirtualPath(n)),r=this.parse(n),i=r!=null?r.path:"",i.length>0){while(u>0){if(o=i.lastIndexOf("/"),o<0){i="";break}i=i.substr(0,o);u--}n=r.scheme+":"+r.schemeSeparator+r.hostAndPort+"/";i.length>0&&(n+=i)}e&&(n=this.makeVirtual(n))}return f=n,t.length>0&&(f=this.appendTrailingSlash(f)+t),f},getFileExtension:function(n){var r,i,t;if(!Bitrix.TypeUtility.isString(n))throw"path is not valid!";return(r="",i=n.indexOf("?"),i>=0&&(n=n.substr(0,i)),t=n.lastIndexOf("."),t<0)?"":n.substr(t,n.length-t)}},Bitrix.PathHelper._instance=null,Bitrix.PathHelper.getInstance=function(){return this._instance==null&&(this._instance=new Bitrix.PathHelper,this._instance.initialize()),this._instance},Bitrix.PathHelper.getApplicationPath=function(){return this.getInstance().getApplicationPath()},Bitrix.PathHelper.isVirtual=function(n){return this.getInstance().isVirtual(n)},Bitrix.PathHelper.resolveVirtualPath=function(n){return this.getInstance().resolveVirtualPath(n)},Bitrix.PathHelper.isRelative=function(n){return this.getInstance().isRelative(n)},Bitrix.PathHelper.getUrlPath=function(n){return this.getInstance().getUrlPath(n)},Bitrix.PathHelper.combine=function(n,t){return this.getInstance().combine(n,t)},Bitrix.PathHelper.getFileExtension=function(n){return this.getInstance().getFileExtension(n)},typeof Bitrix.PathHelper.registerClass!="function"||Type.isClass(Bitrix.PathHelper)||Bitrix.PathHelper.registerClass("Bitrix.PathHelper"),Bitrix.EnumHelper=function(){},Bitrix.EnumHelper.getName=function(n,t){if(!(n instanceof Object))throw"Bitrix.EnumHelper.getName: values are not specified!";if(!(typeof t=="number"||t instanceof Number))throw"Bitrix.EnumHelper.getName: id is not specified!";for(var i in n)if(n[i]===t)return i;return null},Bitrix.EnumHelper.getId=function(n,t,i){if(!(n instanceof Object))throw"Bitrix.EnumHelper.getId: values are not specified!";if(!(typeof t=="string"||t instanceof String))throw"Bitrix.EnumHelper.getId: name is not specified!";for(var r in n)if(r===t||i===!0&&r.toUpperCase()===t.toUpperCase())return n[r];return null},Bitrix.EnumHelper.checkPresenceById=function(n,t){return this.getName(n,t)!=null},Bitrix.EnumHelper.fromString=function(n,t){var e=[],i=Bitrix.TypeUtility.isNotEmptyString(n)?n.split(","):null,r,u,f;if(i&&i.length>0)for(r=0;r<i.length;r++)(u=jsUtils.trim(i[r]),u)&&(f=this.getId(t,u,!0),f&&e.push(f));return e},Bitrix.EnumHelper.toString=function(n,t){var r,u,i;if(Bitrix.TypeUtility.isString(n))return n;if(n instanceof Array){for(r="",u=0;u<n.length;u++)(i=this.getName(t,n[u]),i)&&(r.length>0&&(r+=","),r+=i);return r}return i=this.getName(t,n),i?i:""},Bitrix.EnumHelper.findValue=function(n,t){if(!Bitrix.TypeUtility.isNumber(n))return null;for(var i in t)if(t[i]==n)return n;return null},Bitrix.EnumHelper.tryParse=function(n,t){var i,r;return Bitrix.TypeUtility.isString(n)?this.fromString(n,t):(i=[],Bitrix.TypeUtility.isNumber(n)&&(r=this.findValue(n,t),r&&i.push(i)),i)},typeof Bitrix.EnumHelper.registerClass!="function"||Type.isClass(Bitrix.EnumHelper)||Bitrix.EnumHelper.registerClass("Bitrix.EnumHelper"),Bitrix.EventPublisher=function(){this._listeners=null},Bitrix.EventPublisher.prototype.addListener=function(n){if(!Bitrix.TypeUtility.isFunction(n))throw"listener is not valid!";this._listeners==null&&(this._listeners=[]);this._listeners.push(n)},Bitrix.EventPublisher.prototype.removeListener=function(n){var i,t;if(!Bitrix.TypeUtility.isFunction(n))throw"listener is not valid!";if(this._listeners!=null){for(i=-1,t=0;t<this._listeners.length;t++)if(this._listeners[t]==n){i=t;break}i<0||this._listeners.splice(i,1)}},Bitrix.EventPublisher.prototype.fire=function(){if(this._listeners!=null)for(var n=0;n<this._listeners.length;n++)this._listeners[n].apply(this,arguments)},typeof Bitrix.EventPublisher.registerClass!="function"||Type.isClass(Bitrix.EventPublisher)||Bitrix.EventPublisher.registerClass("Bitrix.EventPublisher"),Bitrix.ElementPositioningUtility=function(){typeof Bitrix.ElementPositioningUtility.initializeBase=="function"&&Bitrix.ElementPositioningUtility.initializeBase(this)},Bitrix.ElementPositioningUtility.prototype={initialize:function(){this._isInitialized=!0},getElementRect:function(n){var t={top:0,right:0,bottom:0,left:0,width:0,height:0},r,u,h,c;if(!n)return t;if(typeof n.getBoundingClientRect!="undefined"){var i=n.getBoundingClientRect(),f=document.documentElement,e=document.body;t.top=i.top+f.scrollTop+e.scrollTop;t.left=i.left+f.scrollLeft+e.scrollLeft;t.width=i.right-i.left;t.height=i.bottom-i.top;t.right=i.right+f.scrollLeft+e.scrollLeft;t.bottom=i.bottom+f.scrollTop+e.scrollTop}else{for(var o=0,s=0,l=n.offsetWidth,a=n.offsetHeight,v=!0;n!=null;n=n.offsetParent){if(o+=n.offsetLeft,s+=n.offsetTop,v){v=!1;continue}r=0;u=0;Sys.Browser.agent!=Sys.Browser.InternetExplorer?(h=document.defaultView.getComputedStyle(n,""),r=parseInt(h.getPropertyValue("border-left-width")),u=parseInt(h.getPropertyValue("border-top-width"))):(c=n.currentStyle,r=parseInt(c.getAttribute("borderLeftWidth")),u=parseInt(c.getAttribute("borderTopWidth")));!isNaN(r)&&r>0&&(o+=r);!isNaN(u)&&u>0&&(s+=u)}t.top=s;t.left=o;t.width=l;t.height=a;t.right=t.left+l;t.bottom=t.top+a}return t},getOffset:function(n,t){if(!n)throw"Bitrix.ElementPositioningUtility.getOffset: Offset element is not defined!";if(!t)throw"Bitrix.ElementPositioningUtility.getOffset: Source element is not defined!";var i=this.getElementRect(n),r=this.getElementRect(t);return Bitrix.Point.create(i.top-r.top,i.left-r.left)},_getNumberOrZero:function(n){return isNaN(n)?0:n},getElementMargins:function(n){var t={top:0,right:0,bottom:0,left:0},i,r;return n?(/*@!@*/!1?(i=n.runtimeStyle,t.top=this._getNumberOrZero(parseInt(i.getAttribute("marginTop"))),t.right=this._getNumberOrZero(parseInt(i.getAttribute("marginRight"))),t.bottom=this._getNumberOrZero(parseInt(i.getAttribute("marginBottom"))),t.left=this._getNumberOrZero(parseInt(i.getAttribute("marginLeft")))):(r=document.defaultView.getComputedStyle(n,""),t.top=this._getNumberOrZero(parseInt(r.getPropertyValue("margin-top"))),t.right=this._getNumberOrZero(parseInt(r.getPropertyValue("margin-right"))),t.bottom=this._getNumberOrZero(parseInt(r.getPropertyValue("margin-bottom"))),t.left=this._getNumberOrZero(parseInt(r.getPropertyValue("margin-left")))),t):t}},Bitrix.ElementPositioningUtility._instance=null,Bitrix.ElementPositioningUtility.getInstance=function(){return this._instance==null&&(this._instance=new Bitrix.ElementPositioningUtility,this._instance.initialize()),this._instance},Bitrix.ElementPositioningUtility.getElementRect=function(n){return this.getInstance().getElementRect(n)},Bitrix.ElementPositioningUtility.getElementMargins=function(n){return this.getInstance().getElementMargins(n)},Bitrix.ElementPositioningUtility.getWindowScrollPos=function(n){if(self.pageYOffset)return{scrollLeft:self.pageXOffset,scrollTop:self.pageYOffset};n||(n=document);var t=this.getViewPortElement(n);return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}},Bitrix.ElementPositioningUtility.getViewPortElement=function(n){return n||(n=document),document.compatMode==="CSS1Compat"?document.documentElement:document.body},typeof Bitrix.ElementPositioningUtility.registerClass!="function"||Type.isClass(Bitrix.ElementPositioningUtility)||Bitrix.ElementPositioningUtility.registerClass("Bitrix.ElementPositioningUtility"),Bitrix.SwfUtility=function(){typeof Bitrix.SwfUtility.initializeBase=="function"&&Bitrix.SwfUtility.initializeBase(this);this._isInitialized=!1;this._codeBaseUrl="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=";this._version=null},Bitrix.SwfUtility.prototype={initialize:function(){this._isInitialized=!0},getVersion:function(){var n,i,t;if(this._version!=null)return this._version;if(/*@!@*/!1)for(n=15;n>1;n--)try{if(!new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+n))continue;return this._version=n}catch(r){}else if(navigator.plugins){for(n=0,i=navigator.plugins.length;n<i;n++)if(navigator.plugins[n].name.indexOf("Flash")!=-1)return t=parseInt(navigator.plugins[n].description.substr(16,2)),this._version=isNaN(t)?-1:t}else this._version=-1;return this._version},_createNewParameter:function(n,t){if(/*@!@*/!1)return'<PARAM name="'+n+'" value="'+t+'" />';var i=document.createElement("PARAM");return i.setAttribute("name",n),i.setAttribute("value",t.toString()),i},createElement:function(n,t,i,r,u,f,e){var l=document.getElementById(n),h,a,o,s,c;if(l){if(h=document.createElement("DIV"),h.style.height=r+"px",h.style.width=i+"px",h.style.border.width="0px",h.style.border.style="none",a=this.getVersion(),a<1||f&&a<parseInt(f)){Bitrix.TypeUtility.isNotEmptyString(e)?(c=document.createElement("IMG"),c.src=e,c.style.width=i+"px",c.style.height=r+"px",h.appendChild(c),l.appendChild(h)):l.style.display="none";return}u||(u="transparent");/*@!@*/!1?(o='<OBJECT classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"  codebase="'+this._codeBaseUrl+'"',o=o.concat(' width="',i,'" height="',r,'"><PARAM name="movie" value="',t,'" />'),o=o.concat(this._createNewParameter("quality","high")),o=o.concat(this._createNewParameter("bgcolor","#ffffff")),u&&(o=o.concat(this._createNewParameter("wmode",u))),o=o.concat("<\/OBJECT>"),h.innerHTML=o):(s=document.createElement("OBJECT"),s.setAttribute("type","application/x-shockwave-flash"),s.setAttribute("data",t),s.setAttribute("width",i),s.setAttribute("height",r),s.appendChild(this._createNewParameter("movie",t)),s.appendChild(this._createNewParameter("quality","high")),s.appendChild(this._createNewParameter("bgcolor","#ffffff")),u&&s.appendChild(this._createNewParameter("wmode",u)),Bitrix.TypeUtility.isNotEmptyString(e)&&(c=document.createElement("IMG"),c.src=e,c.style.width=i+"px",c.style.height=r+"px",s.appendChild(c)),h.appendChild(s));l.appendChild(h)}}},Bitrix.SwfUtility._instance=null,Bitrix.SwfUtility.getInstance=function(){return this._instance==null&&(this._instance=new Bitrix.SwfUtility,this._instance.initialize()),this._instance},typeof Bitrix.SwfUtility.registerClass!="function"||Type.isClass(Bitrix.SwfUtility)||Bitrix.SwfUtility.registerClass("Bitrix.SwfUtility"),Bitrix.SilverlightUtility=function(){typeof Bitrix.SilverlightUtility.initializeBase=="function"&&Bitrix.SilverlightUtility.initializeBase(this);this._isInitialized=!1;this._version=null},Bitrix.SilverlightUtility.prototype={initialize:function(){this._isInitialized=!0},getVersion:function(){return this._version!=null?this._version:(this._version=-1,this._version)},_createNewParameter:function(n,t){if(/*@!@*/!1)return'<PARAM name="'+n+'" value="'+t+'" />';var i=document.createElement("PARAM");return i.setAttribute("name",n),i.setAttribute("value",t.toString()),i},isSilverlightIstalled:function(){return typeof Silverlight!="undefined"&&Silverlight.available},createElement:function(n,t,i,r,u,f,e,o,s,h,c){var l,v,y,a;this.isSilverlightIstalled()&&(l=document.getElementById(n),l.style.width="",l.style.height="",l)&&(y=r!=null&&r>0?r:1,v=i!=null&&i>0?i:1,a={},a.width=v,a.height=y,s!=null&&s!=""&&typeof s!="undefined"&&(a.minRuntimeVersion=s),a.background="transparent",Silverlight.createObjectEx({source:t,parentElement:l,id:n+"_SilverlightControl",properties:a,events:{onResize:function(n){var r=document.getElementById(l.id+"_SilverlightControl"),t,i;l.style.width==""&&n.content.actualWidth!=0&&(l.style.width=n.content.actualWidth+"px",r&&r.setAttribute("width",n.content.actualWidth),t=document.getElementById(u),t&&(t.value=n.content.actualWidth),t=document.getElementById(e),t&&(t.textContent=n.content.actualWidth,t.innerText=n.content.actualWidth));l.style.height==""&&n.content.actualHeight!=0&&(l.style.height=n.content.actualHeight+"px",r&&r.setAttribute("height",n.content.actualHeight),i=document.getElementById(f),i&&(i.value=n.content.actualHeight),i=document.getElementById(o),i&&(i.innerText=n.content.actualHeight,i.textContent=n.content.actualHeight))},onError:function(n,t){var a=document.getElementById(l.id+"_SilverlightControl"),i,r,s,h;a&&(a.setAttribute("height","0px"),a.setAttribute("width","0px"));i=document.getElementById(f);i&&(i.value="0");i=document.getElementById(o);i&&(i.innerText="0",i.textContent="0");r=document.getElementById(u);r&&(r.value="0");r=document.getElementById(e);r&&(r.textContent="0",r.innerText="0");s=Bitrix.AdminSilverlightError.ErrorTitle+"\n";s+=Bitrix.AdminSilverlightError.ErrorType+":     "+t.errorType+"\n";s+=Bitrix.AdminSilverlightError.ErrorMessage+": "+t.errorMessage+"\n";s+=Bitrix.AdminSilverlightError.ErrorCode+":    "+t.errorCode+"\n";s+=Bitrix.AdminSilverlightError.ChooseAnotherFile;h=document.getElementById(c);h&&(h.innerText=s,h.textContent=s,h.style.visibilty="visible",h.style.display="block")}}}))}},Bitrix.SilverlightUtility._instance=null,Bitrix.SilverlightUtility.getInstance=function(){return this._instance==null&&(this._instance=new Bitrix.SilverlightUtility,this._instance.initialize()),this._instance},typeof Bitrix.SilverlightUtility.registerClass!="function"||Type.isClass(Bitrix.SilverlightUtility)||Bitrix.SilverlightUtility.registerClass("Bitrix.SilverlightUtility"),Bitrix.SelectionUtility={getSelection:function(n){var i,t;return n.createTextRange?(i={},t=document.selection.createRange().duplicate(),t.moveEnd("character",n.value.length),i.start=t.text==""?n.value.length:n.value.lastIndexOf(t.text),t=document.selection.createRange().duplicate(),t.moveStart("character",-n.value.length),i.end=t.text.length,i):typeof n.selectionStart!="undefined"?{start:n.selectionStart,end:n.selectionEnd}:void 0},setSelection:function(n,t,i){if((typeof i!="number"||i<t)&&(i=t),n.createTextRange){var r=n.createTextRange();r.moveStart("character",t);r.moveEnd("character",i-n.value.length);r.select()}else n.setSelectionRange&&n.setSelectionRange(t,i)}});Bitrix.SecurityHelper={getTokenPair:function(){return dotNetVars.securityTokenPair},getTokenName:function(){var n=dotNetVars.securityTokenPair;return n.substring(0,n.indexOf("="))},getToken:function(){var n=dotNetVars.securityTokenPair;return n.substring(n.indexOf("=")+1)}};typeof Sys!="undefined"&&Sys.Application.notifyScriptLoaded();